{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport axios from 'axios';\nimport * as SecureStore from 'expo-secure-store';\nvar API_BASE_URL = __DEV__ ? 'http://localhost:3003/api' : 'https://your-production-api.com/api';\nexport var api = axios.create({\n  baseURL: API_BASE_URL\n});\napi.interceptors.request.use(function () {\n  var _ref = _asyncToGenerator(function* (config) {\n    var token = yield SecureStore.getItemAsync('token');\n    if (token) {\n      config.headers.Authorization = `Bearer ${token}`;\n    }\n    return config;\n  });\n  return function (_x) {\n    return _ref.apply(this, arguments);\n  };\n}(), function (error) {\n  return Promise.reject(error);\n});\napi.interceptors.response.use(function (response) {\n  return response;\n}, function () {\n  var _ref2 = _asyncToGenerator(function* (error) {\n    var _error$response;\n    if (((_error$response = error.response) == null ? void 0 : _error$response.status) === 401) {\n      yield SecureStore.deleteItemAsync('token');\n    }\n    return Promise.reject(error);\n  });\n  return function (_x2) {\n    return _ref2.apply(this, arguments);\n  };\n}());\nexport var authService = {\n  login: function login(email, password) {\n    return api.post('/auth/login', {\n      email: email,\n      password: password\n    });\n  },\n  register: function register(email, password, name) {\n    return api.post('/auth/register', {\n      email: email,\n      password: password,\n      name: name\n    });\n  }\n};\nexport var userService = {\n  getProfile: function getProfile() {\n    return api.get('/user/profile');\n  },\n  updateProfile: function updateProfile(profileData) {\n    return api.put('/user/profile', profileData);\n  },\n  addPhoto: function addPhoto(url, type) {\n    return api.post('/user/photos', {\n      url: url,\n      type: type\n    });\n  },\n  getFavorites: function getFavorites() {\n    return api.get('/user/favorites');\n  },\n  addFavorite: function addFavorite(productData) {\n    return api.post('/user/favorites', productData);\n  },\n  removeFavorite: function removeFavorite(id) {\n    return api.delete(`/user/favorites/${id}`);\n  }\n};\nexport var aiService = {\n  analyzePhoto: function analyzePhoto(photoUrl, analysisType) {\n    return api.post('/ai/analyze-photo', {\n      photoUrl: photoUrl,\n      analysisType: analysisType\n    });\n  },\n  getSuggestions: function getSuggestions(occasion, preferences) {\n    return api.post('/ai/suggestions', {\n      occasion: occasion,\n      preferences: preferences\n    });\n  },\n  generateVirtualTryOn: function generateVirtualTryOn(userPhotoUrl, outfitDescription) {\n    return api.post('/ai/virtual-tryon', {\n      userPhotoUrl: userPhotoUrl,\n      outfitDescription: outfitDescription\n    });\n  },\n  submitFeedback: function submitFeedback(suggestionId, rating, liked, comment) {\n    return api.post('/ai/feedback', {\n      suggestionId: suggestionId,\n      rating: rating,\n      liked: liked,\n      comment: comment\n    });\n  },\n  getSuggestionHistory: function getSuggestionHistory() {\n    var page = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n    var limit = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 10;\n    return api.get(`/ai/suggestions/history?page=${page}&limit=${limit}`);\n  }\n};\nexport var uploadService = {\n  uploadImage: function uploadImage(uri) {\n    var formData = new FormData();\n    formData.append('image', {\n      uri: uri,\n      type: 'image/jpeg',\n      name: 'photo.jpg'\n    });\n    return api.post('/upload/image', formData, {\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      }\n    });\n  }\n};","map":{"version":3,"names":["axios","SecureStore","API_BASE_URL","__DEV__","api","create","baseURL","interceptors","request","use","_ref","_asyncToGenerator","config","token","getItemAsync","headers","Authorization","_x","apply","arguments","error","Promise","reject","response","_ref2","_error$response","status","deleteItemAsync","_x2","authService","login","email","password","post","register","name","userService","getProfile","get","updateProfile","profileData","put","addPhoto","url","type","getFavorites","addFavorite","productData","removeFavorite","id","delete","aiService","analyzePhoto","photoUrl","analysisType","getSuggestions","occasion","preferences","generateVirtualTryOn","userPhotoUrl","outfitDescription","submitFeedback","suggestionId","rating","liked","comment","getSuggestionHistory","page","length","undefined","limit","uploadService","uploadImage","uri","formData","FormData","append"],"sources":["/Users/Pankaj-K/Projects/MERN/ai-stylist-app/mobile-app/src/services/api.ts"],"sourcesContent":["import axios from 'axios';\nimport * as SecureStore from 'expo-secure-store';\n\n// Update this URL to your backend API\nconst API_BASE_URL = __DEV__ \n  ? 'http://localhost:3003/api' \n  : 'https://your-production-api.com/api';\n\nexport const api = axios.create({\n  baseURL: API_BASE_URL,\n  // timeout: 10000,\n});\n\n// Request interceptor\napi.interceptors.request.use(\n  async (config) => {\n    const token = await SecureStore.getItemAsync('token');\n    if (token) {\n      config.headers.Authorization = `Bearer ${token}`;\n    }\n    return config;\n  },\n  (error) => {\n    return Promise.reject(error);\n  }\n);\n\n// Response interceptor\napi.interceptors.response.use(\n  (response) => response,\n  async (error) => {\n    if (error.response?.status === 401) {\n      await SecureStore.deleteItemAsync('token');\n      // Navigate to login screen - you might want to use navigation service here\n    }\n    return Promise.reject(error);\n  }\n);\n\n// API service functions\nexport const authService = {\n  login: (email: string, password: string) =>\n    api.post('/auth/login', { email, password }),\n  \n  register: (email: string, password: string, name: string) =>\n    api.post('/auth/register', { email, password, name }),\n};\n\nexport const userService = {\n  getProfile: () => api.get('/user/profile'),\n  \n  updateProfile: (profileData: any) =>\n    api.put('/user/profile', profileData),\n  \n  addPhoto: (url: string, type: string) =>\n    api.post('/user/photos', { url, type }),\n  \n  getFavorites: () => api.get('/user/favorites'),\n  \n  addFavorite: (productData: any) =>\n    api.post('/user/favorites', productData),\n  \n  removeFavorite: (id: string) =>\n    api.delete(`/user/favorites/${id}`),\n};\n\nexport const aiService = {\n  analyzePhoto: (photoUrl: string, analysisType: string) =>\n    api.post('/ai/analyze-photo', { photoUrl, analysisType }),\n  \n  getSuggestions: (occasion: string, preferences?: any) =>\n    api.post('/ai/suggestions', { occasion, preferences }),\n  \n  generateVirtualTryOn: (userPhotoUrl: string, outfitDescription: string) =>\n    api.post('/ai/virtual-tryon', { userPhotoUrl, outfitDescription }),\n  \n  submitFeedback: (suggestionId: string, rating: number, liked: boolean, comment?: string) =>\n    api.post('/ai/feedback', { suggestionId, rating, liked, comment }),\n  \n  getSuggestionHistory: (page: number = 1, limit: number = 10) =>\n    api.get(`/ai/suggestions/history?page=${page}&limit=${limit}`),\n};\n\nexport const uploadService = {\n  uploadImage: (uri: string) => {\n    const formData = new FormData();\n    formData.append('image', {\n      uri,\n      type: 'image/jpeg',\n      name: 'photo.jpg',\n    } as any);\n    \n    return api.post('/upload/image', formData, {\n      headers: {\n        'Content-Type': 'multipart/form-data',\n      },\n    });\n  },\n};"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAO,KAAKC,WAAW,MAAM,mBAAmB;AAGhD,IAAMC,YAAY,GAAGC,OAAO,GACxB,2BAA2B,GAC3B,qCAAqC;AAEzC,OAAO,IAAMC,GAAG,GAAGJ,KAAK,CAACK,MAAM,CAAC;EAC9BC,OAAO,EAAEJ;AAEX,CAAC,CAAC;AAGFE,GAAG,CAACG,YAAY,CAACC,OAAO,CAACC,GAAG;EAAA,IAAAC,IAAA,GAAAC,iBAAA,CAC1B,WAAOC,MAAM,EAAK;IAChB,IAAMC,KAAK,SAASZ,WAAW,CAACa,YAAY,CAAC,OAAO,CAAC;IACrD,IAAID,KAAK,EAAE;MACTD,MAAM,CAACG,OAAO,CAACC,aAAa,GAAG,UAAUH,KAAK,EAAE;IAClD;IACA,OAAOD,MAAM;EACf,CAAC;EAAA,iBAAAK,EAAA;IAAA,OAAAP,IAAA,CAAAQ,KAAA,OAAAC,SAAA;EAAA;AAAA,KACD,UAACC,KAAK,EAAK;EACT,OAAOC,OAAO,CAACC,MAAM,CAACF,KAAK,CAAC;AAC9B,CACF,CAAC;AAGDhB,GAAG,CAACG,YAAY,CAACgB,QAAQ,CAACd,GAAG,CAC3B,UAACc,QAAQ;EAAA,OAAKA,QAAQ;AAAA;EAAA,IAAAC,KAAA,GAAAb,iBAAA,CACtB,WAAOS,KAAK,EAAK;IAAA,IAAAK,eAAA;IACf,IAAI,EAAAA,eAAA,GAAAL,KAAK,CAACG,QAAQ,qBAAdE,eAAA,CAAgBC,MAAM,MAAK,GAAG,EAAE;MAClC,MAAMzB,WAAW,CAAC0B,eAAe,CAAC,OAAO,CAAC;IAE5C;IACA,OAAON,OAAO,CAACC,MAAM,CAACF,KAAK,CAAC;EAC9B,CAAC;EAAA,iBAAAQ,GAAA;IAAA,OAAAJ,KAAA,CAAAN,KAAA,OAAAC,SAAA;EAAA;AAAA,GACH,CAAC;AAGD,OAAO,IAAMU,WAAW,GAAG;EACzBC,KAAK,EAAE,SAAPA,KAAKA,CAAGC,KAAa,EAAEC,QAAgB;IAAA,OACrC5B,GAAG,CAAC6B,IAAI,CAAC,aAAa,EAAE;MAAEF,KAAK,EAALA,KAAK;MAAEC,QAAQ,EAARA;IAAS,CAAC,CAAC;EAAA;EAE9CE,QAAQ,EAAE,SAAVA,QAAQA,CAAGH,KAAa,EAAEC,QAAgB,EAAEG,IAAY;IAAA,OACtD/B,GAAG,CAAC6B,IAAI,CAAC,gBAAgB,EAAE;MAAEF,KAAK,EAALA,KAAK;MAAEC,QAAQ,EAARA,QAAQ;MAAEG,IAAI,EAAJA;IAAK,CAAC,CAAC;EAAA;AACzD,CAAC;AAED,OAAO,IAAMC,WAAW,GAAG;EACzBC,UAAU,EAAE,SAAZA,UAAUA,CAAA;IAAA,OAAQjC,GAAG,CAACkC,GAAG,CAAC,eAAe,CAAC;EAAA;EAE1CC,aAAa,EAAE,SAAfA,aAAaA,CAAGC,WAAgB;IAAA,OAC9BpC,GAAG,CAACqC,GAAG,CAAC,eAAe,EAAED,WAAW,CAAC;EAAA;EAEvCE,QAAQ,EAAE,SAAVA,QAAQA,CAAGC,GAAW,EAAEC,IAAY;IAAA,OAClCxC,GAAG,CAAC6B,IAAI,CAAC,cAAc,EAAE;MAAEU,GAAG,EAAHA,GAAG;MAAEC,IAAI,EAAJA;IAAK,CAAC,CAAC;EAAA;EAEzCC,YAAY,EAAE,SAAdA,YAAYA,CAAA;IAAA,OAAQzC,GAAG,CAACkC,GAAG,CAAC,iBAAiB,CAAC;EAAA;EAE9CQ,WAAW,EAAE,SAAbA,WAAWA,CAAGC,WAAgB;IAAA,OAC5B3C,GAAG,CAAC6B,IAAI,CAAC,iBAAiB,EAAEc,WAAW,CAAC;EAAA;EAE1CC,cAAc,EAAE,SAAhBA,cAAcA,CAAGC,EAAU;IAAA,OACzB7C,GAAG,CAAC8C,MAAM,CAAC,mBAAmBD,EAAE,EAAE,CAAC;EAAA;AACvC,CAAC;AAED,OAAO,IAAME,SAAS,GAAG;EACvBC,YAAY,EAAE,SAAdA,YAAYA,CAAGC,QAAgB,EAAEC,YAAoB;IAAA,OACnDlD,GAAG,CAAC6B,IAAI,CAAC,mBAAmB,EAAE;MAAEoB,QAAQ,EAARA,QAAQ;MAAEC,YAAY,EAAZA;IAAa,CAAC,CAAC;EAAA;EAE3DC,cAAc,EAAE,SAAhBA,cAAcA,CAAGC,QAAgB,EAAEC,WAAiB;IAAA,OAClDrD,GAAG,CAAC6B,IAAI,CAAC,iBAAiB,EAAE;MAAEuB,QAAQ,EAARA,QAAQ;MAAEC,WAAW,EAAXA;IAAY,CAAC,CAAC;EAAA;EAExDC,oBAAoB,EAAE,SAAtBA,oBAAoBA,CAAGC,YAAoB,EAAEC,iBAAyB;IAAA,OACpExD,GAAG,CAAC6B,IAAI,CAAC,mBAAmB,EAAE;MAAE0B,YAAY,EAAZA,YAAY;MAAEC,iBAAiB,EAAjBA;IAAkB,CAAC,CAAC;EAAA;EAEpEC,cAAc,EAAE,SAAhBA,cAAcA,CAAGC,YAAoB,EAAEC,MAAc,EAAEC,KAAc,EAAEC,OAAgB;IAAA,OACrF7D,GAAG,CAAC6B,IAAI,CAAC,cAAc,EAAE;MAAE6B,YAAY,EAAZA,YAAY;MAAEC,MAAM,EAANA,MAAM;MAAEC,KAAK,EAALA,KAAK;MAAEC,OAAO,EAAPA;IAAQ,CAAC,CAAC;EAAA;EAEpEC,oBAAoB,EAAE,SAAtBA,oBAAoBA,CAAA;IAAA,IAAGC,IAAY,GAAAhD,SAAA,CAAAiD,MAAA,QAAAjD,SAAA,QAAAkD,SAAA,GAAAlD,SAAA,MAAG,CAAC;IAAA,IAAEmD,KAAa,GAAAnD,SAAA,CAAAiD,MAAA,QAAAjD,SAAA,QAAAkD,SAAA,GAAAlD,SAAA,MAAG,EAAE;IAAA,OACzDf,GAAG,CAACkC,GAAG,CAAC,gCAAgC6B,IAAI,UAAUG,KAAK,EAAE,CAAC;EAAA;AAClE,CAAC;AAED,OAAO,IAAMC,aAAa,GAAG;EAC3BC,WAAW,EAAE,SAAbA,WAAWA,CAAGC,GAAW,EAAK;IAC5B,IAAMC,QAAQ,GAAG,IAAIC,QAAQ,CAAC,CAAC;IAC/BD,QAAQ,CAACE,MAAM,CAAC,OAAO,EAAE;MACvBH,GAAG,EAAHA,GAAG;MACH7B,IAAI,EAAE,YAAY;MAClBT,IAAI,EAAE;IACR,CAAQ,CAAC;IAET,OAAO/B,GAAG,CAAC6B,IAAI,CAAC,eAAe,EAAEyC,QAAQ,EAAE;MACzC3D,OAAO,EAAE;QACP,cAAc,EAAE;MAClB;IACF,CAAC,CAAC;EACJ;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}